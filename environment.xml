<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. 
   Copyright (c) the Contributors as noted in the AUTHORS file.-->

<machine>
<environment name="ma">
    
    <!-- python packages -->
    <include name="logzero" system="python3"/>
    <include name="redis" system="python3"/>
    <include name="pytest" system="python3"/>
    <include name="ruamel.yaml" system="python3"/>
    <include name="cmd2" system="python3"/>
    <include name="Jinja2" system="python3"/>
    <!-- codegen primitives python packages -->
    <include name="paho.mqtt" system="python3"/>
    <include name="curtsies" system="python3"/>
    <include name="python-consul" system="python3" />
    <include name="zerorpc" system="python3" />
    <include name="Pillow" system="python3" />
    <include name="kivy" system="python3" />

    <!-- scripts -->
    <script name = "../regenerate.sh">
        #!/bin/bash
        #set machine dir ie .
        machine_dir=$\(pwd\)

        echo "running envgen..."
        cd ~/ma/envgen
        ./envgen.sh $machine_dir/environment.xml $machine_dir
    </script>

</environment>
</machine>